{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/services/apiService.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","src","alt","largeImageURL","onClick","ImageGalleryItemImage","data-source","ImageGallery","images","map","image","webformatURL","tags","id","Button","Spinner","loaderContainer","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","App","isLoading","error","showModal","onChangeQuery","fetchImages","options","apiServise","prevState","catch","finally","onLoadMoreButtonClick","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","openModal","dataset","source","console","log","closeModal","prevProps","shouldRenderLoadMoreButton","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b53cad41.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__MgXgh\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1eHAx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1hgA5\",\"Modal\":\"Modal_Modal__PRBhz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__t4roG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__278rV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"Loader_loaderContainer__3_HLW\"};","import axios from 'axios';\r\n\r\nconst API_KEY = '19813878-66abafb147b791a25f56ab6fb';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\r\n    return axios\r\n        .get(`${BASE_URL}/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${currentPage}&per_page=${pageSize}&key=${API_KEY}`)\r\n        .then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchImages };","import React, { Component } from 'react';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: ''\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({ query: e.currentTarget.value });\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form\r\n                    className={s.SearchForm}\r\n                    onSubmit={this.handleSubmit}>\r\n                    <button\r\n                        type=\"submit\"\r\n                        className={s.SearchFormButton}>\r\n                        <span className={s.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n                    \r\n                    <input\r\n                        className={s.SearchFormInput}\r\n                        type=\"text\"\r\n                        value={this.state.query}\r\n                        onChange={this.handleChange}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Searchbar;","import React from 'react';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({src, alt, largeImageURL, onClick}) => (\r\n    <li className={s.ImageGalleryItem}>\r\n        <img\r\n            onClick={onClick}\r\n            src={src}\r\n            alt={alt}\r\n            className={s.ImageGalleryItemImage}\r\n            data-source={largeImageURL} />\r\n    </li>\r\n);\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onClick }) => (\r\n    <ul className={s.ImageGallery}>\r\n        {images.map(image => (\r\n            <ImageGalleryItem\r\n                key={image.id}\r\n                src={image.webformatURL}\r\n                alt={image.tags}\r\n                largeImageURL={image.largeImageURL}\r\n                onClick={onClick}\r\n            />))}\r\n    </ul>\r\n);\r\n\r\nexport default ImageGallery;","import React from 'react';\r\n\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n    <button\r\n        type=\"button\"\r\n        onClick={onClick}\r\n        className={s.Button}>\r\n        Load more\r\n    </button>\r\n);\r\n\r\nexport default Button;","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Loader.module.css';\r\n\r\nconst Spinner = () => (\r\n    <div className={s.loaderContainer}>\r\n        <Loader\r\n            type=\"Grid\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n        />\r\n    </div>\r\n);\r\n\r\nexport default Spinner;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  state = {}\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n handleKeyDown = e => {\r\n   if (e.code === 'Escape') {\r\n     this.props.onClose(e);\r\n   }\r\n };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose(e);\r\n    }\r\n  };\r\n\r\n  render() {\r\n  return createPortal(\r\n    <div onClick={this.props.onClose} className={s.Overlay}>\r\n      <div className={s.Modal}>\r\n        <img src={this.props.largeImageURL} alt={this.props.tags} />\r\n      </div>\r\n    </div>,\r\n    modalRoot);\r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\n\r\nimport apiServise from './components/services/apiService';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport Button from './components/Button/Button';\r\nimport Spinner from './components/Loader/Loader';\r\nimport Modal from './components/Modal/Modal';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    hits: [],\r\n    currentPage: 1,\r\n    searchQuery: '',\r\n    isLoading: false,\r\n    error: null,\r\n    showModal: false,\r\n    largeImageURL: '',\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      hits: [],\r\n      currentPage: 1,\r\n      searchQuery: query,\r\n      error: null\r\n    });\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const { currentPage, searchQuery } = this.state;\r\n    const options = { currentPage, searchQuery };\r\n    \r\n    this.setState({ isLoading: true });\r\n\r\n    apiServise\r\n      .fetchImages(options)\r\n      .then(hits => {\r\n        this.setState(prevState => ({\r\n          hits: [...prevState.hits, ...hits],\r\n          currentPage: prevState.currentPage + 1,\r\n        }))\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  }\r\n\r\n  onLoadMoreButtonClick = () => {\r\n    this.fetchImages();\r\n    setTimeout(function () {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 2000);\r\n  }\r\n\r\n  openModal = (e) => {\r\n    e.preventDefault();\r\n    const largeImageURL = e.target.dataset.source;\r\n    console.log('url:', largeImageURL);\r\n\r\n    this.setState({\r\n      showModal: true,\r\n      largeImageURL: largeImageURL,\r\n    });\r\n  }\r\n\r\n  closeModal = (e) => {  \r\n    if (e.currentTarget === e.target || e.code === 'Escape')\r\n    this.setState({\r\n      showModal: false,\r\n      largeImageURL: '',\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { hits, isLoading, error, showModal, largeImageURL } = this.state;\r\n    const shouldRenderLoadMoreButton = hits.length >= 12 && !isLoading;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n        {error && <h1>Oops... Something went wrong...</h1>}\r\n        <ImageGallery images={hits} onClick={this.openModal} />\r\n        {shouldRenderLoadMoreButton && (<Button onClick={this.onLoadMoreButtonClick} />)}\r\n        {isLoading && (<Spinner />)}\r\n        {showModal && (<Modal largeImageURL={largeImageURL} onClose={this.closeModal} />)}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3gUW2\",\"SearchForm\":\"Searchbar_SearchForm__2G8rZ\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3pLJX\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3g2ZA\",\"SearchFormInput\":\"Searchbar_SearchFormInput__GVIhA\"};"],"sourceRoot":""}