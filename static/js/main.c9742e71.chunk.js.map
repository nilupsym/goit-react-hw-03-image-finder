{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/services/apiService.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","src","alt","ImageGalleryItemImage","ImageGallery","images","map","image","webformatURL","tags","id","Button","onClick","App","isLoading","error","onChangeQuery","fetchImages","options","apiServise","prevState","catch","finally","onLoadMoreButtonClick","setTimeout","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","shouldRenderLoadMoreButton","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c9742e71.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__t4roG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__278rV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3gUW2\",\"SearchForm\":\"Searchbar_SearchForm__2G8rZ\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3pLJX\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3g2ZA\",\"SearchFormInput\":\"Searchbar_SearchFormInput__GVIhA\"};","import axios from 'axios';\r\n\r\nconst API_KEY = '19813878-66abafb147b791a25f56ab6fb';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\r\n    return axios\r\n        .get(`${BASE_URL}/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${currentPage}&per_page=${pageSize}&key=${API_KEY}`)\r\n        .then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchImages };","import React, { Component } from 'react';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: ''\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({ query: e.currentTarget.value });\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form\r\n                    className={s.SearchForm}\r\n                    onSubmit={this.handleSubmit}>\r\n                    <button\r\n                        type=\"submit\"\r\n                        className={s.SearchFormButton}>\r\n                        <span className={s.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n                    \r\n                    <input\r\n                        className={s.SearchFormInput}\r\n                        type=\"text\"\r\n                        value={this.state.query}\r\n                        onChange={this.handleChange}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Searchbar;","import React from 'react';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({src, alt}) => (\r\n    <li className={s.ImageGalleryItem}>\r\n        <img\r\n            src={src}\r\n            alt={alt}\r\n            className={s.ImageGalleryItemImage} />\r\n    </li>\r\n);\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images }) => (\r\n    <ul className={s.ImageGallery}>\r\n        {images.map(image => (\r\n            <ImageGalleryItem\r\n                key={image.id}\r\n                src={image.webformatURL}\r\n                alt={image.tags}\r\n            />))}\r\n    </ul>\r\n);\r\n\r\nexport default ImageGallery;","import React from 'react';\r\n\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n    <button\r\n        type=\"button\"\r\n        onClick={onClick}\r\n        className={s.Button}>\r\n        Load more\r\n    </button>\r\n);\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\n\r\nimport apiServise from './components/services/apiService';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport Button from './components/Button/Button';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    hits: [],\r\n    currentPage: 1,\r\n    searchQuery: '',\r\n    isLoading: false,\r\n    error: null\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      hits: [],\r\n      currentPage: 1,\r\n      searchQuery: query,\r\n      error: null\r\n    });\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const { currentPage, searchQuery } = this.state;\r\n    const options = { currentPage, searchQuery };\r\n    \r\n    this.setState({ isLoading: true });\r\n\r\n    apiServise\r\n      .fetchImages(options)\r\n      .then(hits => {\r\n        this.setState(prevState => ({\r\n          hits: [...prevState.hits, ...hits],\r\n          currentPage: prevState.currentPage + 1,\r\n        }))\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  }\r\n\r\n  onLoadMoreButtonClick = () => {\r\n    this.fetchImages();\r\n    setTimeout(function () {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 2000);\r\n  }\r\n\r\n  render() {\r\n    const { hits, isLoading, error } = this.state;\r\n    const shouldRenderLoadMoreButton = hits.length >= 12 && !isLoading;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n        <ImageGallery images={hits} />\r\n        {shouldRenderLoadMoreButton && (<Button onClick={this.onLoadMoreButtonClick} />)}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__MgXgh\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1eHAx\"};"],"sourceRoot":""}